<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Condensed|Ubuntu+Mono" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <title>cloudf</title>
  </head>

  <body>
    <div class="modal fade" tabindex="-1" role="dialog" data-backdrop='static' data-keyboard='false' id="loading_modal">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">
              Loading files, please wait...
            </h4>
          </div>
          <div class="modal-body">
            <div class="progress" style="height: 20px;">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container" style="display:flex; justify-content:space-between; align-items:center">
      <img src="/images/cloudf.png" style="height:10vh;">
      <!-- put current username and logout button here -->
      <div>
        <button type="button" class="btn btn-raised btn-secondary" onclick="doLogout();">Log Out</button>
      </div>
    </div>
    <div id="main_container">
      <!-- breadcrumbs Banner -->
      <div class="breadcrumbs" id="banner">
          <div class="pathSection" id="path" onclick="populateDirectoryListing('/root')" ondrop="drop(event)" ondragover="allowDrop(event)">
            <p style="text-align: center">Root</p>
          </div>
      </div>
      <div id="files">
      </div>
      <!-- Floating Buttons -->
      <div class="floatingButtons">
        <div class="circleButton" id="uploadFile" onclick="$('#modal_upload_form').modal('show');"> </div>
        <div class="circleButton" id="newFolder" onclick="$('#modal_create_directory').modal('show');"> </div>

      </div>

      <p id="copyright">Â© 2018 Benjamin Streit, Blake Rieschick, and Evan Brown</p>
    </div>

    <!--
    Upload form modal
    -->
    <div class="modal fade" tabindex="-1" role="dialog" id="modal_upload_form">
      <div class="modal-dialog" role="document">
        <div class="modal-content" id="modal_upload_form_content">
          <div class="modal-header">
            <h5 class="modal-title">
              Upload Selection
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form ref='upload_form' class="form-inline justify-content-between"
              id='upload_form'
              action='/FileInteraction/uploadFile'
              method='post'
              encType="multipart/form-data">
              <div class="form-group">
                <div class="custom-file">
                  <input type="file" class="form-control-file" id="input_upload_file" name="input_upload_file" multiple><!-- onchange="sendState();"> -->
                </div>
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-raised btn-success">Upload File</button>
              </div>
            </form>
            <form ref='upload_form_directory' class="form-inline justify-content-between"
              id='upload_form_directory'
              action='/FileInteraction/uploadDirectory'
              method='post'
              encType="multipart/form-data">
              <div class="form-group">
                <div class="custom-file">
                  <input type="file" class="form-control-file" id="input_upload_directory" name="input_upload_directory" onchange="sendState();" webkitdirectory directory multiple>
                </div>
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-raised btn-success">Upload Folder</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--
    Create directory modal
    -->
    <div class="modal fade" tabindex="-1" role="dialog" id="modal_create_directory" onkeypress="javascript: if(event.keyCode == 13) createDirectory();">
      <div class="modal-dialog" role="document">
        <div class="modal-content" id="modal_create_directory_content">
          <div class="modal-header">
            <h5 class="modal-title">
              Create Folder
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form class="form">
              <div class="form-group">
                <label for="input_directory_name" class="bmd-label-floating">New Folder</label>
                <input type="text" class="form-control" id="input_directory_name">
              </div>
              <div class="form-group">
                <button type="button" class="btn btn-raised btn-success" onclick="createDirectory();">Create</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--
    Delete File form modal
    -->
    <div class="modal fade" tabindex="-1" role="dialog" id="modal_delete">
      <div class="modal-dialog" role="document">
        <div class="modal-content" id="modal_delete_file_content">
          <div class="modal-header">
            <h5 class="modal-title">
              Are you sure you want to delete this item?
            </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form class="form">
              <div class="form-group">
                <button type="button" class="btn btn-raised btn-success" onclick="deleteItem();">Yes</button>
                <button type="button" class="btn btn-danger" onclick="$('#modal_delete').modal('hide');">No</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- div for file data display sidebar -->
    <div id="file_sidebar" class="sidebar" disabled>
      <!-- <div class="circleButton" id="deleteFile" onclick="$('#modal_delete_file').modal('show');"> </div> -->
      <div class="circleButton" id="deleteFile" onclick="$('#modal_delete').modal('show');"> </div>
      <div class="circleButton" id="downloadFile" onclick="download()"> </div>
      <a href="javascript:void(0)" class="close" onclick="hideSidebar()">&times;</a>
      <input type='text' id='data-filename-input'>
      <h3 id="data-filename" ondblclick="editFileName()"></h3>
      <hr>
      <p id="data-filetype"></p>
      <p id="data-adddate"></p>
    </div>

    <!-- jQuery first, then Popper.js, SnackbarJS, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <script src="http://malsup.github.com/jquery.form.js"></script>
    <script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
    <!-- SnackbarJS plugin -->
    <script src="https://cdn.rawgit.com/FezVrasta/snackbarjs/1.1.0/dist/snackbar.min.js"></script>
    <script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>
    <script>$(document).ready(function() { $('body').bootstrapMaterialDesign(); });</script>
    <!-- Optional JavaScript -->
    <script src="js/icons_map.js"></script>
    <script src="js/index.js"></script>

  </body>
</html>
